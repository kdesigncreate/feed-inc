<?php

use Illuminate\Support\Str;

return [

    /*
    |--------------------------------------------------------------------------
    | デフォルトのセッションドライバ
    |--------------------------------------------------------------------------
    |
    | このオプションは受信リクエストで利用されるデフォルトのセッション
    | ドライバを決定します。Laravel はセッションデータの保存に多様な
    | ストレージオプションをサポートしています。データベース保存は
    | 優れた既定の選択肢です。
    |
    | 対応ドライバ: "file", "cookie", "database", "memcached",
    |               "redis", "dynamodb", "array"
    |
    */

    'driver' => env('SESSION_DRIVER', 'database'),

    /*
    |--------------------------------------------------------------------------
    | セッションの有効期間
    |--------------------------------------------------------------------------
    |
    | セッションが失効するまでのアイドル時間（分）を指定します。ブラウザを
    | 閉じたタイミングで即時失効させたい場合は、expire_on_close オプションを
    | 有効にしてください。
    |
    */

    'lifetime' => (int) env('SESSION_LIFETIME', 120),

    'expire_on_close' => env('SESSION_EXPIRE_ON_CLOSE', false),

    /*
    |--------------------------------------------------------------------------
    | セッションの暗号化
    |--------------------------------------------------------------------------
    |
    | このオプションにより、保存前にすべてのセッションデータを暗号化できます。
    | 暗号化は Laravel により自動的に行われ、通常どおりセッションを扱えます。
    |
    */

    'encrypt' => env('SESSION_ENCRYPT', false),

    /*
    |--------------------------------------------------------------------------
    | セッションファイルの保存場所
    |--------------------------------------------------------------------------
    |
    | 「file」セッションドライバを利用する場合、セッションファイルは
    | ディスク上に保存されます。既定の保存場所はここで定義しますが、
    | 別の保存先を指定しても構いません。
    |
    */

    'files' => storage_path('framework/sessions'),

    /*
    |--------------------------------------------------------------------------
    | セッションのデータベース接続
    |--------------------------------------------------------------------------
    |
    | 「database」または「redis」セッションドライバを使用する場合、セッションの
    | 管理に使用する接続を指定できます。データベース設定に定義された接続に
    | 対応させてください。
    |
    */

    'connection' => env('SESSION_CONNECTION'),

    /*
    |--------------------------------------------------------------------------
    | セッションのテーブル
    |--------------------------------------------------------------------------
    |
    | 「database」セッションドライバを使用する場合、セッション保存に使用する
    | テーブルを指定できます。妥当な既定値が定義されていますが、任意の
    | テーブルに変更できます。
    |
    */

    'table' => env('SESSION_TABLE', 'sessions'),

    /*
    |--------------------------------------------------------------------------
    | セッションのキャッシュストア
    |--------------------------------------------------------------------------
    |
    | フレームワークのキャッシュ駆動のセッションバックエンドを使用する場合、
    | リクエスト間でセッションデータを保存するキャッシュストアを指定します。
    | これは定義済みのキャッシュストアのいずれかと一致している必要があります。
    |
    | 対象: "dynamodb", "memcached", "redis"
    |
    */

    'store' => env('SESSION_STORE'),

    /*
    |--------------------------------------------------------------------------
    | セッション掃除のロッタリー（抽選確率）
    |--------------------------------------------------------------------------
    |
    | 一部のセッションドライバでは、古いセッションを削除するために
    | ストレージの掃除が必要です。ここでは、1 リクエストあたりの実行確率を
    | 指定します。既定では 2/100 です。
    |
    */

    'lottery' => [2, 100],

    /*
    |--------------------------------------------------------------------------
    | セッションクッキー名
    |--------------------------------------------------------------------------
    |
    | フレームワークが作成するセッションクッキーの名前を変更できます。
    | 変更しても実質的なセキュリティ向上は見込めないため、通常は
    | 変更の必要はありません。
    |
    */

    'cookie' => env(
        'SESSION_COOKIE',
        Str::slug(env('APP_NAME', 'laravel'), '_').'_session'
    ),

    /*
    |--------------------------------------------------------------------------
    | セッションクッキーの Path
    |--------------------------------------------------------------------------
    |
    | セッションクッキーの Path は、クッキーが有効とみなされるパスを
    | 決定します。通常はアプリケーションのルートパスですが、必要に応じて
    | 変更できます。
    |
    */

    'path' => env('SESSION_PATH', '/'),

    /*
    |--------------------------------------------------------------------------
    | セッションクッキーのドメイン
    |--------------------------------------------------------------------------
    |
    | セッションクッキーが有効なドメインとサブドメインを決定します。
    | 既定では、ルートドメインとすべてのサブドメインで有効です。
    | 通常、この値を変更する必要はありません。
    |
    */

    'domain' => env('SESSION_DOMAIN'),

    /*
    |--------------------------------------------------------------------------
    | HTTPS のみクッキー
    |--------------------------------------------------------------------------
    |
    | このオプションを true にすると、ブラウザが HTTPS 接続の場合のみ
    | セッションクッキーをサーバへ送信します。安全でない場合に
    | クッキーが送信されることを防ぎます。
    |
    */

    'secure' => env('SESSION_SECURE_COOKIE'),

    /*
    |--------------------------------------------------------------------------
    | HTTP のみアクセス
    |--------------------------------------------------------------------------
    |
    | この値を true にすると、JavaScript からクッキー値へのアクセスを禁止し、
    | HTTP プロトコル経由でのみアクセス可能になります。このオプションを
    | 無効にするべき場面はほとんどありません。
    |
    */

    'http_only' => env('SESSION_HTTP_ONLY', true),

    /*
    |--------------------------------------------------------------------------
    | SameSite クッキー
    |--------------------------------------------------------------------------
    |
    | クロスサイトリクエスト時のクッキーの挙動を決定し、CSRF 攻撃の緩和に
    | 利用できます。既定では、セキュアなクロスサイトリクエストを許可するため
    | 「lax」に設定します。
    |
    | 参考: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#samesitesamesite-value
    |
    | 対応値: "lax", "strict", "none", null
    |
    */

    'same_site' => env('SESSION_SAME_SITE', 'lax'),

    /*
    |--------------------------------------------------------------------------
    | 分割（Partitioned）クッキー
    |--------------------------------------------------------------------------
    |
    | この値を true にすると、クロスサイト環境でクッキーがトップレベルサイトに
    | 結び付けられます。Partitioned クッキーは "secure" フラグが立ち、
    | SameSite 属性が "none" のときブラウザに受け入れられます。
    |
    */

    'partitioned' => env('SESSION_PARTITIONED_COOKIE', false),

];
